<!DOCTYPE html>
<html style="font-size: 16px;" lang="es"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>Registro_Grupos</title>
    <link rel="stylesheet" href="../nicepage.css" media="screen">
<link rel="stylesheet" href="Registro_Grupos.css" media="screen">
    <script class="u-script" type="text/javascript" src="../jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="../nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 6.15.2, nicepage.com">
    <meta name="referrer" content="origin">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa:300,400,500,600,700">
    <style>
       /* Contenedor de la tabla */

/* Estilos específicos para el formulario de búsqueda */
.search-form {
    display: flex; /* Utiliza flexbox para alinear los elementos */
    flex-wrap: wrap; /* Permite que los elementos se ajusten en líneas si es necesario */
    justify-content: center; /* Centra los elementos horizontalmente */
    gap: 10px; /* Espacio entre los elementos */
    margin: 20px auto; /* Margen superior e inferior, centrado horizontalmente */
    max-width: 600px; /* Ancho máximo del formulario */
    padding: 10px; /* Espacio interno */
    border: 1px solid #ddd; /* Borde del formulario */
    border-radius: 5px; /* Bordes redondeados */
    background-color: #f9f9f9; /* Color de fondo */
}

.search-form input[type="text"] {
    padding: 8px; /* Espacio interno */
    margin: 5px 0; /* Margen superior e inferior */
    border: 1px solid #ccc; /* Borde del campo de entrada */
    border-radius: 4px; /* Bordes redondeados */
    box-sizing: border-box; /* Incluye padding y border en el ancho total */
    flex: 1; /* Permite que los campos de texto crezcan para llenar el espacio disponible */
    min-width: 150px; /* Ancho mínimo para cada campo de texto */
}

.search-form button {
    padding: 8px 15px; /* Espacio interno */
    border: none; /* Sin borde */
    border-radius: 4px; /* Bordes redondeados */
    background-color: #7b7bcb; /* Color de fondo */
    color: white; /* Color del texto */
    cursor: pointer; /* Cambia el cursor cuando se pasa sobre el botón */
    font-size: 16px; /* Tamaño del texto */
    flex-shrink: 0; /* Evita que el botón se reduzca */
}

.search-form button:hover {
    background-color: #45a049; /* Color de fondo al pasar el cursor */
}
.table-container {
    display: flex; /* Utiliza flexbox para alinear el contenido */
    justify-content: center; /* Centra la tabla horizontalmente */
    margin: 20px auto; /* Margen automático para centrar el contenedor */
    width: 100%; /* Ancho completo del contenedor */
}
/* Estilos para la tabla */
table {
    width: 80%;
    border-collapse: collapse;
    justify-content: center;
   
}

th, td {
    padding: 10px;
    text-align: left;
}

th {
    background-color: #7b7bcb;
    color: white;
    border: 1px solid #ddd;
}

td {
    background-color: #ffffff;
    border: 1px solid #ddd;
}

input[type="text"], textarea {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 5px;
    box-sizing: border-box;
}

textarea {
    height: 100px;
    resize: vertical;
}

/* Estilos para botones */
button {
    background-color: #7b7bcb;
    color: white;
    border: none;
    padding: 10px 20px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    transition: background-color 0.3s, box-shadow 0.3s;
}

button:hover {
    background-color: #8eaa90;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}
bu::hover {
    background-color: #8eaa90;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
}

button:focus {
    outline: none;
}


    </style>
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "Site1",
		"logo": "../images/151852.png"
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Registro_Grupos">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
  <meta data-intl-tel-input-cdn-path="intlTelInput/"></head>
  <body data-path-to-root="../" data-include-products="false" class="u-body u-xl-mode" data-lang="es"><header class="u-clearfix u-header u-header" id="sec-1054"><div class="u-clearfix u-sheet u-sheet-1">
        <div class="u-clearfix u-group-elements u-group-elements-1" data-animation-name="customAnimationIn" data-animation-duration="1000" data-animation-delay="0">
          <a href="#" class="u-image u-logo u-image-1" data-image-width="600" data-image-height="600">
            <img src="../images/151852.png" class="u-logo-image u-logo-image-1">
          </a>
          <img class="u-image u-image-contain u-image-default u-image-2" src="../images/elpoderdeservir.png" alt="" data-image-width="4590" data-image-height="1866">
        </div>
        <h1 class="u-align-center u-custom-font u-font-georgia u-text u-text-1" data-custom-animation="{&quot;animation&quot;:{&quot;XXL&quot;:{&quot;steps&quot;:[],&quot;hidden&quot;:false,&quot;start&quot;:{&quot;at&quot;:&quot;bottom&quot;,&quot;off&quot;:0},&quot;end&quot;:{&quot;at&quot;:&quot;top&quot;,&quot;off&quot;:0}},&quot;XL&quot;:{&quot;steps&quot;:[{&quot;dist&quot;:0.41,&quot;skip&quot;:0,&quot;blur&quot;:&quot;29&quot;,&quot;sticky&quot;:false,&quot;fixed&quot;:true,&quot;mx&quot;:0,&quot;my&quot;:0,&quot;op&quot;:0,&quot;rot&quot;:0,&quot;sx&quot;:3,&quot;sy&quot;:3,&quot;bgy&quot;:0}],&quot;hidden&quot;:false,&quot;start&quot;:{&quot;at&quot;:&quot;middle&quot;,&quot;off&quot;:0},&quot;end&quot;:{&quot;at&quot;:&quot;top&quot;,&quot;off&quot;:0}},&quot;LG&quot;:{&quot;steps&quot;:[],&quot;hidden&quot;:false,&quot;start&quot;:{&quot;at&quot;:&quot;bottom&quot;,&quot;off&quot;:0},&quot;end&quot;:{&quot;at&quot;:&quot;top&quot;,&quot;off&quot;:0}},&quot;MD&quot;:{&quot;steps&quot;:[],&quot;hidden&quot;:false,&quot;start&quot;:{&quot;at&quot;:&quot;bottom&quot;,&quot;off&quot;:0},&quot;end&quot;:{&quot;at&quot;:&quot;top&quot;,&quot;off&quot;:0}},&quot;SM&quot;:{&quot;steps&quot;:[],&quot;hidden&quot;:true,&quot;start&quot;:{&quot;at&quot;:&quot;bottom&quot;,&quot;off&quot;:0},&quot;end&quot;:{&quot;at&quot;:&quot;top&quot;,&quot;off&quot;:0}},&quot;XS&quot;:{&quot;steps&quot;:[],&quot;hidden&quot;:true,&quot;start&quot;:{&quot;at&quot;:&quot;bottom&quot;,&quot;off&quot;:0},&quot;end&quot;:{&quot;at&quot;:&quot;top&quot;,&quot;off&quot;:0}}},&quot;container&quot;:&quot;&quot;}">Colegio de Estudios Científicos y Tecnológicos del Estado de México <br>
          <span class="u-text-custom-color-1">_______________________________________________</span>
          <span class="u-text-custom-color-1"></span>
          <br>
          <span style="font-size: 1rem;">Sistema de Control Escolar WEB&nbsp;</span>
          <br>
        </h1>
        <img class="u-image u-image-contain u-image-default u-image-3" src="../images/369-3698095_escudo-de-mexico-png.png" alt="" data-image-width="1085" data-image-height="687" data-animation-name="customAnimationIn" data-animation-duration="1000" data-animation-delay="0">
      </div></header>
<section>
<a href="../SALONES/Registro_Grupos.php" class="u-border-none u-btn u-btn-round u-button-style u-hover-custom-color-4 u-none u-radius u-btn-3"><span class="u-file-icon u-icon u-icon-1"><img src="../images/5065208.png" alt=""></span>&nbsp;REGRESAR
        </a>
<?php
// Conectar a la base de datos
$conexion = new mysqli("localhost", "root", "", "sistema_escolar");

// Verificar si la conexión es exitosa
if ($conexion->connect_error) {
    die("Conexión fallida: " . $conexion->connect_error);
}

// Obtener los filtros de búsqueda
$numero_control_filtro = isset($_POST['numero_control']) ? $_POST['numero_control'] : '';
$grupo_filtro = isset($_POST['grupo']) ? $_POST['grupo'] : '';
$semestre_filtro = isset($_POST['semestre']) ? $_POST['semestre'] : '';

// Construir la consulta SQL con filtros
$sql = "SELECT * FROM alumnos_por_grupos WHERE 1=1";

if (!empty($numero_control_filtro)) {
    $sql .= " AND numero_control LIKE '%" . $conexion->real_escape_string($numero_control_filtro) . "%'";
}
if (!empty($grupo_filtro)) {
    $sql .= " AND grupo LIKE '%" . $conexion->real_escape_string($grupo_filtro) . "%'";
}
if (!empty($semestre_filtro)) {
    $sql .= " AND semestre LIKE '%" . $conexion->real_escape_string($semestre_filtro) . "%'";
}

$resultado = $conexion->query($sql);

// Iniciar HTML
echo '<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Listar Registros</title>
    <style>
       
    </style>
</head>
<body>
    <h2 style="text-align: center;">Lista de Registros</h2>
    
    <form method="post" action="" class="search-form">
    <input type="text" name="numero_control" placeholder="Número de Control" value="">
    <input type="text" name="grupo" placeholder="Grupo" value="">
    <input type="text" name="semestre" placeholder="Semestre" value="">
    <button type="submit">Buscar</button>
</form>
<div class="table-container">
    <table >
        <thead>
            <tr>
                <th>ID</th>
                <th>Número de Control</th>
                <th>Nombre del Alumno</th>
                <th>Semestre</th>
                <th>Grupo</th>
                <th>Ciclo Escolar</th>
                <th>Observaciones</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>';

if ($resultado->num_rows > 0) {
    while ($fila = $resultado->fetch_assoc()) {
        echo '<tr>
                <td>' . htmlspecialchars($fila['id']) . '</td>
                <td>' . htmlspecialchars($fila['numero_control']) . '</td>
                <td>' . htmlspecialchars($fila['alumno_nombre']) . '</td>
                <td>' . htmlspecialchars($fila['semestre']) . '</td>
                <td>' . htmlspecialchars($fila['grupo']) . '</td>
                <td>' . htmlspecialchars($fila['ciclo_escolar']) . '</td>
                <td>' . htmlspecialchars($fila['observaciones']) . '</td>
                <td>
                    <a href="modificar_registro.php?id=' . htmlspecialchars($fila['id']) . '" class="btn btn-edit">Modificar</a>
                    <a href="eliminar_registro.php?id=' . htmlspecialchars($fila['id']) . '" class="btn btn-delete" onclick="return confirm(\'¿Estás seguro de eliminar este registro?\');">Eliminar</a>
                </td>
            </tr>';
    }
} else {
    echo '<tr><td colspan="8">No se encontraron registros.</td></tr>';
}

echo '    </tbody>
    </table>
    <div>
   
</body>
</html>';

// Cerrar la conexión a la base de datos
$conexion->close();
?>
 
</section>
   
    
    
   <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-1c58"><div class="u-clearfix u-sheet u-sheet-1">
       <p class="u-small-text u-text u-text-variant u-text-1">TESJo -- Unidad de Informática -- Área de Sistemas de la Información </p>
     </div></footer>
   
 
</body></html>